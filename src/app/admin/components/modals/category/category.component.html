<!-- Loader -->
<app-loader *ngIf="isLoading"></app-loader>

<div class="dialog-container">
    <div class="dialog-header">
        <span>{{ ((categoryForm.value.categoryId > 0) ? 'Admin.EditCategory' : 'Admin.AddCategory') | translate}}</span>
        <mat-icon (click)="onNoClick()">close</mat-icon>
    </div>

    <div class="dialog-body">
        <form [formGroup]="categoryForm">
            <!-- Category Name -->
            <div class="col-md-12">
                <mat-form-field appearance="outline" class="w-100" floatLabel="always">
                <mat-label>{{'Admin.CategoryName' | translate}}</mat-label>
                    <input matInput type="text" name="categoryName" formControlName="categoryName">
                </mat-form-field>
                <div *ngIf="isSavedForm && categoryForm.invalid" class="error-div">
                    <div *ngIf="categoryForm.controls['categoryName'].errors?.['required']">
                        {{'Admin.CategoryName' | translate}} {{'Common.RequiredError' | translate}}
                    </div>
                    <div *ngIf="categoryForm.controls['categoryName'].errors?.['maxlength']">
                        {{'Admin.CategoryName' | translate}} {{'Common.MaxLengthError' | translate}}
                        {{categoryForm.controls['categoryName'].errors?.['maxlength'].requiredLength}}
                    </div>
                    <div *ngIf="categoryForm.controls['categoryName'].errors?.['pattern']">
                        {{'Common.Invalid' | translate}} {{'Admin.CategoryName' | translate}}
                    </div>
                </div>
            </div>

            <!-- Category Description -->
            <div class="col-md-12 mt-10">
                <mat-form-field appearance="outline" class="w-100" floatLabel="always">
                <mat-label>{{'Admin.CategoryDescription' | translate}}</mat-label>
                    <textarea matInput type="text" rows="3" name="categoryDescription" formControlName="categoryDescription"></textarea>
                </mat-form-field>
                <div *ngIf="isSavedForm && categoryForm.invalid" class="error-div">
                    <div *ngIf="categoryForm.controls['categoryDescription'].errors?.['required']">
                        {{'Admin.CategoryDescription' | translate}} {{'Common.RequiredError' | translate}}
                    </div>
                    <div *ngIf="categoryForm.controls['categoryDescription'].errors?.['maxlength']">
                        {{'Admin.CategoryDescription' | translate}} {{'Common.MaxLengthError' | translate}}
                        {{categoryForm.controls['categoryDescription'].errors?.['maxlength'].requiredLength}}
                    </div>
                    <div *ngIf="categoryForm.controls['categoryDescription'].errors?.['pattern']">
                        {{'Common.Invalid' | translate}} {{'Admin.CategoryDescription' | translate}}
                    </div>
                </div>
            </div>

            <!-- IsGITag -->
            <div class="col-md-12 mt-10">
                <mat-form-field appearance="outline" class="w-100" floatLabel="always">
                    <mat-label>{{'Admin.IsGITag' | translate}}</mat-label>
                    <mat-select name="isGITag" formControlName="isGITag">
                        <mat-option value="Y">{{ "Yes" }}</mat-option>
                        <mat-option value="N">{{ "No" }}</mat-option>
                    </mat-select>
                </mat-form-field>
                <div *ngIf="isSavedForm && categoryForm.invalid" class="error-div">
                    <div *ngIf="categoryForm.controls['isGITag']?.errors?.['required']">
                        {{'Admin.IsGITag' | translate}} {{'Common.RequiredError' | translate}}
                    </div>
                </div>
            </div>

            <!-- Active/ Inactive -->
            <div class="col-md-12">
                <mat-slide-toggle name="inactive" formControlName="inactive">{{'Admin.Inactive' | translate}}</mat-slide-toggle>
            </div>
        </form>
    </div>

    <div class="dialog-footer">
        <button type="button" class="btn btn-outline-primary" (click)="onNoClick()">{{'Common.Cancel' | translate}}</button>
        <button type="button" class="btn btn-primary" (click)="saveUser()">{{'Common.Submit' | translate}}</button>
    </div>
</div>
