<!-- Loader -->
<app-loader *ngIf="isLoading"></app-loader>

<div class="dialog-container">
  <div class="dialog-header">
    <span>{{ 'Admin.EnterpriseDetails'| translate }}</span>
    <mat-icon (click)="onNoClick()">close</mat-icon>
  </div>

  <div class="dialog-body">
    <form [formGroup]="enterpriseForm">
      <div class="row g-3">

        <div class="col-md-12 d-flex flex-column row-gap-10">

          <div class="d-flex flex-column">

            <div class="d-flex my-2 justify-content-between ">
              <div class="d-flex flex-column gap-2">
                <span class="text-12">{{'Admin.UdyamRegistrationNumber' | translate}}</span>
                <span class="text-14 ms-3">{{data.enterpriseData.udyamRegistrationNo }}</span>
              </div>
              <div>
                <div *ngIf="data.enterpriseData.inactive == 'Y'" class="rejected-chip">
                  {{( 'Common.inactive' | titlecase) | translate}}
                </div>
                <div *ngIf="data.enterpriseData.inactive == 'N'" class="accepet-chip">
                  {{ ('Common.active' | titlecase) | translate}}
                </div>
              </div>
            </div>

            <div class="d-flex my-3 flex-column gap-2">
              <span class="text-12">{{'Admin.EntrepreneurName' | translate}}</span>
              <span class="text-18 ms-3">{{data.enterpriseData.ownerNamebyPAN}}</span>
            </div>


            <div class="d-flex my-3 flex-column gap-2">
              <span class="text-12">{{'Admin.EnterpriseName' | translate}}</span>
              <span class="text-18 ms-3">{{data.enterpriseData.enterpriseName}}</span>
            </div>

            <div class="d-flex col-gap-30">
              <div class="d-flex my-2 flex-column gap-2">
                <span class="text-12">{{'Admin.EmailId' | translate}} </span>
                <span class="text-14 ms-3">{{data.enterpriseData.emailId}}</span>
              </div>

              <div class="d-flex my-2 flex-column gap-2">
                <span class="text-12">{{'Admin.MobileNumber' | translate}} </span>
                <span class="text-14 ms-3">{{data.enterpriseData.mobileNumber}}</span>
              </div>
            </div>
            <div class="d-flex my-2 flex-column gap-2">
              <span class="text-12">{{'Admin.WebsiteLink' | translate}} </span>
              <a class="text-14 ms-3" [href]="data?.enterpriseData?.website" target="_blank">
                {{ data?.enterpriseData?.website }}
              </a>
            </div>


            <div *ngIf="data.enterpriseData.inactive == 'Y'" class="d-flex my-2 flex-column gap-2">
              <span class="text-12"> {{'Common.StatusRemarks' | translate}}</span>
              <span class="text-14 ms-3">{{data.enterpriseData.inactiveRemarks}}</span>
            </div>
          </div>

          <!-- Active/ Inactive -->
          <div class="col-md-12">
            <mat-slide-toggle name="inactive" formControlName="inactive">{{'Admin.Inactive' |
              translate}}</mat-slide-toggle>
          </div>

          <!-- Remarks -->
          <div *ngIf="data.enterpriseData.inactive == 'N'" class="col-md-12 mt-10">
            <mat-form-field appearance="outline" class="w-100" floatLabel="always">
              <mat-label>{{'Admin.StatusRemarks' | translate}}</mat-label>
              <textarea matInput type="text" rows="3" name="inactiveRemarks"
                formControlName="inactiveRemarks"></textarea>
            </mat-form-field>
            <div *ngIf="isSavedForm && enterpriseForm.invalid" class="error-div">
              <div *ngIf="enterpriseForm.controls['inactiveRemarks'].errors?.['required']">
                {{'Admin.StatusRemarks' | translate}} {{'Common.RequiredError' | translate}}
              </div>
              <div *ngIf="enterpriseForm.controls['inactiveRemarks'].errors?.['maxlength']">
                {{'Admin.StatusRemarks' | translate}} {{'Common.MaxLengthError' | translate}}
                {{enterpriseForm.controls['inactiveRemarks'].errors?.['maxlength'].requiredLength}}
              </div>
              <div *ngIf="enterpriseForm.controls['inactiveRemarks'].errors?.['pattern']">
                {{'Common.Invalid' | translate}} {{'Admin.StatusRemarks' | translate}}
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>

  <div  *ngIf="data.enterpriseData.inactive == 'N'"  class="dialog-footer">
    <button type="button" class="btn btn-primary" (click)="saveStatus()">{{'Common.Submit' |
      translate}}</button>
  </div>
</div>
